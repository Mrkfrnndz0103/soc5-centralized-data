"use strict";(()=>{var e={};e.id=1547,e.ids=[1547],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},92761:e=>{e.exports=require("node:async_hooks")},21505:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>p,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d});var o=r(49303),n=r(88716),a=r(60670),u=r(16576),i=e([u]);u=(i.then?(await i)():i)[0];let c=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/lookup/clusters/route",pathname:"/api/lookup/clusters",filename:"route",bundlePath:"app/api/lookup/clusters/route"},resolvedPagePath:"C:\\Users\\phlspxuser\\Documents\\Mrkcde\\Ongoing\\soc5-internalTool\\src\\app\\api\\lookup\\clusters\\route.ts",nextConfigOutput:"",userland:u}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:g}=c,x="/api/lookup/clusters/route";function p(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}s()}catch(e){s(e)}})},16576:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{GET:()=>p});var o=r(87070),n=r(75748),a=r(95456),u=r(69026),i=e([n,a]);[n,a]=i.then?(await i)():i;let p=(0,u.g)("/api/lookup/clusters",async e=>{if(!await (0,a.Gg)())return o.NextResponse.json({error:"Unauthorized"},{status:401});let{searchParams:t}=new URL(e.url),r=t.get("region"),s=t.get("query"),u=["active = true"],i=[];r&&(i.push(r),u.push(`region = $${i.length}`)),s&&(i.push(`%${s}%`),u.push(`cluster_name ILIKE $${i.length}`));let p=u.length?`WHERE ${u.join(" AND ")}`:"",c=await (0,n.I)(`SELECT DISTINCT cluster_name, region
     FROM outbound_map
     ${p}
     ORDER BY cluster_name`,i);return o.NextResponse.json(c.rows)});s()}catch(e){s(e)}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5972,5456],()=>r(21505));module.exports=s})();